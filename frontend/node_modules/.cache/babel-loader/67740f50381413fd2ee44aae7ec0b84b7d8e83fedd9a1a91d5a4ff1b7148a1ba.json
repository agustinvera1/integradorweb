{"ast":null,"code":"import _objectSpread from\"C:/xampp/htdocs/integradorweb/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import\"../styles/Tareas.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=\"http://localhost/integradorweb/backend/api.php\";export default function Tareas(){const[tareas,setTareas]=useState([]);const[titulo,setTitulo]=useState(\"\");const[descripcion,setDescripcion]=useState(\"\");const[estado,setEstado]=useState(\"pendiente\");const[cargando,setCargando]=useState(true);const[error,setError]=useState(null);// Cargar tareas\nuseEffect(()=>{fetch(API_URL).then(res=>res.json()).then(data=>{setTareas(data);setCargando(false);}).catch(()=>{setError(\"Ups, no pudimos conectar üòû\");setCargando(false);});},[]);const agregarTarea=async e=>{e.preventDefault();if(!titulo.trim()){setError(\"T√≠tulo obligatorio\");return;}try{const res=await fetch(API_URL,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({titulo,descripcion,estado,prioridad:\"media\"})});if(!res.ok)throw new Error();const nueva=await res.json();setTareas([{id:nueva.id,titulo,descripcion,estado},...tareas]);setTitulo(\"\");setDescripcion(\"\");setError(null);}catch(_unused){setError(\"Ups, no pudimos guardar la tarea üòû\");}};const borrarTarea=async id=>{await fetch(\"\".concat(API_URL,\"?id=\").concat(id),{method:\"DELETE\"});setTareas(tareas.filter(t=>t.id!==id));};const marcarCompletada=async tarea=>{const actualizado=_objectSpread(_objectSpread({},tarea),{},{estado:\"completada\"});await fetch(\"\".concat(API_URL,\"?id=\").concat(tarea.id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(actualizado)});setTareas(tareas.map(t=>t.id===tarea.id?actualizado:t));};if(cargando)return/*#__PURE__*/_jsx(\"p\",{className:\"msg\",children:\"Cargando...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{className:\"msg error\",children:error});if(tareas.length===0)return/*#__PURE__*/_jsx(\"p\",{className:\"msg\",children:\"No hay tareas\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"tareas-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCCB Lista de Tareas\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:agregarTarea,className:\"form-tarea\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"T\\xEDtulo...\",value:titulo,onChange:e=>setTitulo(e.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Descripci\\xF3n (opcional)\",value:descripcion,onChange:e=>setDescripcion(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Agregar\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"msg error\",children:error}),/*#__PURE__*/_jsx(\"ul\",{className:\"lista-tareas\",children:tareas.map(t=>/*#__PURE__*/_jsxs(\"li\",{className:t.estado===\"completada\"?\"done\":\"\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:t.titulo}),t.descripcion&&/*#__PURE__*/_jsx(\"p\",{children:t.descripcion})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"acciones\",children:[t.estado!==\"completada\"&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>marcarCompletada(t),children:\"\\u2705 Completar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>borrarTarea(t.id),children:\"\\uD83D\\uDDD1\\uFE0F Borrar\"})]})]},t.id))})]});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","API_URL","Tareas","tareas","setTareas","titulo","setTitulo","descripcion","setDescripcion","estado","setEstado","cargando","setCargando","error","setError","fetch","then","res","json","data","catch","agregarTarea","e","preventDefault","trim","method","headers","body","JSON","stringify","prioridad","ok","Error","nueva","id","_unused","borrarTarea","concat","filter","t","marcarCompletada","tarea","actualizado","_objectSpread","map","className","children","length","onSubmit","type","placeholder","value","onChange","target","onClick"],"sources":["C:/xampp/htdocs/integradorweb/frontend/src/pages/Tareas.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../styles/Tareas.css\";\r\n\r\nconst API_URL = \"http://localhost/integradorweb/backend/api.php\";\r\n\r\nexport default function Tareas() {\r\n  const [tareas, setTareas] = useState([]);\r\n  const [titulo, setTitulo] = useState(\"\");\r\n  const [descripcion, setDescripcion] = useState(\"\");\r\n  const [estado, setEstado] = useState(\"pendiente\");\r\n  const [cargando, setCargando] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Cargar tareas\r\n  useEffect(() => {\r\n    fetch(API_URL)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        setTareas(data);\r\n        setCargando(false);\r\n      })\r\n      .catch(() => {\r\n        setError(\"Ups, no pudimos conectar üòû\");\r\n        setCargando(false);\r\n      });\r\n  }, []);\r\n\r\n  const agregarTarea = async (e) => {\r\n    e.preventDefault();\r\n    if (!titulo.trim()) {\r\n      setError(\"T√≠tulo obligatorio\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(API_URL, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          titulo,\r\n          descripcion,\r\n          estado,\r\n          prioridad: \"media\",\r\n        }),\r\n      });\r\n      if (!res.ok) throw new Error();\r\n      const nueva = await res.json();\r\n      setTareas([{ id: nueva.id, titulo, descripcion, estado }, ...tareas]);\r\n      setTitulo(\"\");\r\n      setDescripcion(\"\");\r\n      setError(null);\r\n    } catch {\r\n      setError(\"Ups, no pudimos guardar la tarea üòû\");\r\n    }\r\n  };\r\n\r\n  const borrarTarea = async (id) => {\r\n    await fetch(`${API_URL}?id=${id}`, { method: \"DELETE\" });\r\n    setTareas(tareas.filter(t => t.id !== id));\r\n  };\r\n\r\n  const marcarCompletada = async (tarea) => {\r\n    const actualizado = { ...tarea, estado: \"completada\" };\r\n    await fetch(`${API_URL}?id=${tarea.id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(actualizado),\r\n    });\r\n    setTareas(tareas.map(t => (t.id === tarea.id ? actualizado : t)));\r\n  };\r\n\r\n  if (cargando) return <p className=\"msg\">Cargando...</p>;\r\n  if (error) return <p className=\"msg error\">{error}</p>;\r\n  if (tareas.length === 0) return <p className=\"msg\">No hay tareas</p>;\r\n\r\n  return (\r\n    <div className=\"tareas-container\">\r\n      <h1>üìã Lista de Tareas</h1>\r\n\r\n      <form onSubmit={agregarTarea} className=\"form-tarea\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"T√≠tulo...\"\r\n          value={titulo}\r\n          onChange={(e) => setTitulo(e.target.value)}\r\n        />\r\n        <textarea\r\n          placeholder=\"Descripci√≥n (opcional)\"\r\n          value={descripcion}\r\n          onChange={(e) => setDescripcion(e.target.value)}\r\n        />\r\n        <button type=\"submit\">Agregar</button>\r\n      </form>\r\n\r\n      {error && <p className=\"msg error\">{error}</p>}\r\n\r\n      <ul className=\"lista-tareas\">\r\n        {tareas.map(t => (\r\n          <li key={t.id} className={t.estado === \"completada\" ? \"done\" : \"\"}>\r\n            <div>\r\n              <strong>{t.titulo}</strong>\r\n              {t.descripcion && <p>{t.descripcion}</p>}\r\n            </div>\r\n            <div className=\"acciones\">\r\n              {t.estado !== \"completada\" && (\r\n                <button onClick={() => marcarCompletada(t)}>‚úÖ Completar</button>\r\n              )}\r\n              <button onClick={() => borrarTarea(t.id)}>üóëÔ∏è Borrar</button>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}